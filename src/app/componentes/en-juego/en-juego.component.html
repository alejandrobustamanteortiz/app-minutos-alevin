<div class="en-juego-page">
  <h1 class="titulo">âš½ Partido contra {{ rival }}</h1>

  <!-- ğŸ›ï¸ Panel de control -->
  <div class="panel-control">
    <div class="cronometro">{{ tiempo$ | async }}</div>
    <div class="botones-control">
      
      <!-- Iniciar 1Âª Parte -->
       <button *ngIf="estadoPrimeraParte === 'esperando'" (click)="iniciarPrimeraParte()">â–¶ï¸ Iniciar 1Âª Parte</button>
       <button *ngIf="estadoPrimeraParte === 'descanso'" (click)="iniciarSegundaParte()">â–¶ï¸ Iniciar 2Âª Parte</button>
       <button *ngIf="estadoPrimeraParte === 'live'"(click)="finalizarPrimeraParte()">â›” Finalizar 1Âª Parte</button>
       <button *ngIf="estadoSegundaParte === 'live'"(click)="finalizarSegundaParte()">â›” Finalizar 2Âª Parte</button>
        <!-- Ajustes Segunda parte  -->
         <button *ngIf="estadoPrimeraParte === 'descanso'" [routerLink]="['/alineacion', partidoId]">
           âš™ï¸ Ajustes 2Âª Parte
        </button>
    </div>
  </div>

  <!-- ğŸŸ© Jugadores en el campo -->
  <h2 class="subtitulo">Titulares</h2>
  <div class="campo-juego">
  <div class="linea-jugadores">
    <div class="jugador-en-campo" *ngFor="let jugador of titulares">
      <img [src]="jugador.foto || '/assets/fotos/default.png'" class="avatar" />
      <br>
      <span class="nombre">{{ jugador.nombre }}</span>
      <br>

      <ng-container *ngIf="minutos$ | async as minutos">
        <span class="minutos">{{ minutos[jugador.id!] || 0 }}'</span>
      </ng-container> <br>

      <!-- Seleccionar titular que va a salir -->
      <button class="btn-accion salir" (click)="seleccionarTitular(jugador)">
        âï¸ Salir
      </button>
    </div>
  </div>
</div>

  <!-- ğŸª‘ Suplentes -->
  <h2 class="subtitulo">ğŸª‘ Suplentes</h2>
  <div class="suplentes-lista">
  <div class="jugador-suplente" *ngFor="let jugador of suplentes">
    <img [src]="jugador.foto || '/assets/fotos/default.png'" class="avatar-mini" />
    <span>{{ jugador.nombre }}</span>

    <ng-container *ngIf="minutos$ | async as minutos">
      <span class="minutos">{{ minutos[jugador.id!] || 0 }}'</span>
    </ng-container>

    <!-- Seleccionar suplente que entra -->
    <button class="btn-accion entrar" (click)="seleccionarSuplente(jugador)">
      ğŸ‘Ÿ Entrar
    </button>
  </div>
</div>

<div class="boton-swap" *ngIf="titularSeleccionado && suplenteSeleccionado">
  <button class="btn-swap" (click)="cambiarJugador(titularSeleccionado, suplenteSeleccionado)">
    ğŸ”„ Confirmar cambio: Sale: {{ titularSeleccionado?.nombre }} Entra: {{ suplenteSeleccionado?.nombre }}
  </button>
</div>



  <!-- â¬…ï¸ BotÃ³n volver -->
  <div class="boton-volver">
    <button routerLink="/inicio" class="btn-volver">â¬…ï¸ Volver al inicio</button>
  </div>
</div>


